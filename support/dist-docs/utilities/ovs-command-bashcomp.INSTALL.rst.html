<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.12: http://docutils.sourceforge.net/" />
<title>utilities/ovs-command-bashcomp.INSTALL.rst (Open vSwitch 2.6.90)</title>
<link rel="stylesheet" href="style.css" type="text/css" />
</head>
<body>
<div class="document" id="bash-command-line-completion-scripts">
<h1 class="title">Bash command-line completion scripts</h1>

<!-- Licensed under the Apache License, Version 2.0 (the "License"); you may
not use this file except in compliance with the License. You may obtain
a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
License for the specific language governing permissions and limitations
under the License.

Convention for heading levels in Open vSwitch documentation:

=======  Heading 0 (reserved for the title in a document)
- - - - - - -  Heading 1
~~~~~~~  Heading 2
+++++++  Heading 3
'''''''  Heading 4

Avoid deeper levels because they do not render well. -->
<p>There are two completion scripts available, ovs-appctl-bashcomp.bash and
ovs-vsctl-bashcomp.bash respectively.</p>
<div class="section" id="ovs-appctl-bashcomp">
<h1>ovs-appctl-bashcomp</h1>
<p>ovs-appctl-bashcomp.bash adds bash command-line completion support for
ovs-appctl, ovs-dpctl, ovs-ofctl and ovsdb-tool commands.</p>
<div class="section" id="features">
<h2>Features</h2>
<ul class="simple">
<li>Display available completion or complete on unfinished user input (long
option, subcommand, and argument).</li>
<li>Subcommand hints</li>
<li>Convert between keywords like <tt class="docutils literal">bridge</tt>, <tt class="docutils literal">port</tt>, <tt class="docutils literal">interface</tt>, or <tt class="docutils literal">dp</tt>
and the available record in ovsdb.</li>
</ul>
</div>
<div class="section" id="limitations">
<h2>Limitations</h2>
<ul>
<li><p class="first">Only supports a small set of important keywords (<tt class="docutils literal">dp</tt>, <tt class="docutils literal">datapath</tt>, <tt class="docutils literal">bridge</tt>, <tt class="docutils literal">switch</tt>,
<tt class="docutils literal">port</tt>, <tt class="docutils literal">interface</tt>, <tt class="docutils literal">iface</tt>).</p>
</li>
<li><p class="first">Does not support parsing of nested options. For example:</p>
<pre class="literal-block">
$ ovsdb-tool create [db [schema]]
</pre>
</li>
<li><p class="first">Does not support expansion on repeated argument. For example:</p>
<pre class="literal-block">
$ ovs-dpctl show [dp...]).
</pre>
</li>
<li><p class="first">Only supports matching on long options, and only in the format <tt class="docutils literal"><span class="pre">--option</span>
[arg]</tt>. Do not use <tt class="docutils literal"><span class="pre">--option=[arg]</span></tt>.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="ovs-vsctl-bashcomp">
<h1>ovs-vsctl-bashcomp</h1>
<p>ovs-vsctl-bashcomp.bash adds bash command-line completion support for ovs-vsctl
command.</p>
<div class="section" id="id1">
<h2>Features</h2>
<ul class="simple">
<li>Display available completion and complete on user input for global/local
options, command, and argument.</li>
<li>Query database and expand keywords like <tt class="docutils literal">table</tt>, <tt class="docutils literal">record</tt>, <tt class="docutils literal">column</tt>, or
<tt class="docutils literal">key</tt>, to available completions.</li>
<li>Deal with argument relations like 'one and more', 'zero or one'.</li>
<li>Complete multiple ovs-vsctl commands cascaded via <tt class="docutils literal"><span class="pre">--</span></tt>.</li>
</ul>
</div>
<div class="section" id="id2">
<h2>Limitations</h2>
<p>Completion of very long <tt class="docutils literal"><span class="pre">ovs-vsctl</span></tt> commands can take up to several seconds.</p>
</div>
</div>
<div class="section" id="usage">
<h1>Usage</h1>
<p>The bashcomp scripts should be placed at <tt class="docutils literal">/etc/bash_completion.d/</tt> to be
available for all bash sessions.  Running <tt class="docutils literal">make install</tt> will place the
scripts to <tt class="docutils literal"><span class="pre">$(sysconfdir)/bash_completion.d/</span></tt>, thus, the user should specify
<tt class="docutils literal"><span class="pre">--sysconfdir=/etc</span></tt> at configuration.  If OVS is installed from packages, the
scripts will automatically be placed inside <tt class="docutils literal">/etc/bash_completion.d/</tt>.</p>
<p>If you just want to run the scripts in one bash, you can remove them from
<tt class="docutils literal">/etc/bash_completion.d/</tt> and run the scripts via <tt class="docutils literal">.
<span class="pre">ovs-appctl-bashcomp.bash</span></tt> or <tt class="docutils literal">. <span class="pre">ovs-vsctl-bashcomp.bash</span></tt>.</p>
</div>
<div class="section" id="tests">
<h1>Tests</h1>
<p>Unit tests are added in <tt class="docutils literal">tests/completion.at</tt> and integrated into autotest
framework.  To run the tests, just run <tt class="docutils literal">make check</tt>.</p>
</div>
</div>
</body>
</html>
