<html><head>
  <meta charset="UTF-8"></head>
  <link rel="stylesheet" type="text/css" href="style.css">
  <title>INSTALL.Fedora.md (Open vSwitch 2.4.90)</title>
</head><body>
<h1>How to Install Open vSwitch on Fedora Linux</h1>

<p>This document describes how to build and install Open vSwitch on a Fedora
Linux host.  If you want to install Open vSwitch on a generic Linux host,
see <a href="INSTALL.md">INSTALL.md</a> instead.</p>

<p>We have tested these instructions with Fedora 16 and Fedora 17.</p>

<h2>Building Open vSwitch for Fedora</h2>

<p>You may build from an Open vSwitch distribution tarball or from an
Open vSwitch Git tree.</p>

<p>The default RPM build directory (_topdir) has five directories in
the top-level:
1. BUILD/ Where the software is unpacked and built.
2. RPMS/ Where the newly created binary package files are written.
3. SOURCES/ Contains the original sources, patches, and icon files.
4. SPECS/ Contains the spec files for each package to be built.
5. SRPMS/ Where the newly created source package files are written.</p>

<p>Before you begin, note the RPM sources directory on your version of
Fedora.  The command &ldquo;rpmbuild &ndash;showrc&rdquo; will show the configuration
for each of those directories. Alternatively, the command &ldquo;rpm &ndash;eval
 &lsquo;%{<em>topdir}&rsquo;&rdquo; shows the current configuration for the top level
directory and the command &ldquo;rpm &ndash;eval &lsquo;%{</em>sourcedir}&rsquo;&rdquo; does the same
for the sources directory.  On Fedora 17, the default RPM _topdir is
$HOME/rpmbuild and the default RPM sources directory is
$HOME/rpmbuild/SOURCES.</p>

<ol>
<li><p>If you are building from a distribution tarball, skip to step 2.
Otherwise, you must be building from an Open vSwitch Git tree.
Create a distribution tarball from the root of the Git tree by
running:</p>

<pre><code>```
./boot.sh
./configure
make dist
```
</code></pre></li>
<li><p>Now you have a distribution tarball, named something like
openvswitch-x.y.z.tar.gz.  Copy this file into the RPM sources
directory, e.g.:</p>

<pre><code>`cp openvswitch-x.y.z.tar.gz $HOME/rpmbuild/SOURCES`
</code></pre></li>
<li><p>Make another copy of the distribution tarball in a temporary
directory.  Then unpack the tarball and &ldquo;cd&rdquo; into its root, e.g.:</p>

<pre><code>```
tar xzf openvswitch-x.y.z.tar.gz
cd openvswitch-x.y.z
```
</code></pre></li>
<li><p>To build Open vSwitch userspace, run:</p>

<pre><code>`rpmbuild -bb rhel/openvswitch-fedora.spec`
</code></pre>

<p>This produces one RPM: &ldquo;openvswitch&rdquo;.</p>

<p>The above command automatically runs the Open vSwitch unit tests.
To disable the unit tests, run:</p>

<pre><code>`rpmbuild -bb --without check rhel/openvswitch-fedora.spec`
</code></pre></li>
<li><p>On Fedora 17, to build the Open vSwitch kernel module, run:</p>

<p> <code>rpmbuild -bb rhel/openvswitch-kmod-fedora.spec</code></p>

<p> You might have to specify a kernel version and/or variants, e.g.:</p>

<pre><code class="`"> rpmbuild -bb \
     -D "kversion 2.6.32-131.6.1.el6.x86_64" \
     -D "kflavors default debug kdump" \
     rhel/openvswitch-kmod-rhel6.spec
</code></pre>

<p> This produces an &ldquo;kmod-openvswitch&rdquo; RPM for each kernel variant,
 in this example: &ldquo;kmod-openvswitch&rdquo;, &ldquo;kmod-openvswitch-debug&rdquo;, and
 &ldquo;kmod-openvswitch-kdump&rdquo;.</p></li>
</ol>


<h2>Reporting Bugs</h2>

<p>Please report problems to bugs@openvswitch.org.</p>
</body></html>
